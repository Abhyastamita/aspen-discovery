;
; default config file for customization
;

; No changes are necessary in the System Section
[System]
available       = true
maintenanceIps =
systemMessage   = 
debug           = false
debugJs         = false
coverage        = false
timings         = false
coverTimings    = false
minTimeToLog    = 0
logMemoryUsage  = false
missingTranslations = false
debugSolr       = false
debugSolrQuery  = false
operatingSystem = linux
gitVersionFile  = FETCH_HEAD
interfaceCompileDir = /web/aspen-discovery/tmp/smarty/compile/

[Site]
isProduction    = false
path            = 
url             = http://{servername}
local           = /usr/local/aspen-discovery/code/web
coverPath       = /data/aspen-discovery/{servername}/covers
baseLogPath     = /var/log/aspen-discovery
ecommerceLink   =
;email           = {customize this in config.pwd}
;suggestionEmail = {customize this in config.pwd}
title           = "Library Catalog"
;libraryName     = {customize this}
language        = en    ; default -- more options available in [Languages] below.
locale          = en_US
; Find valid timezone values here:
;   http://www.php.net/manual/en/timezones.php
timezone        = "America/Denver"
; The base URL will load the "Home" action of this module unless the user
; is logged in:
defaultModule   = Search

[Google]
googleMapsKey =

[Translation]
;google_translate_key = {customize this in config.pwd}
includedLanguages = ar,da,en,es,fr,de,it,ja,pl,pt,ru,sv,th,vi,zh-CN,zh-TW

[Analytics]
;googleAnalyticsId = {customize this in config.pwd}

; This section allows you to configure the mechanism used for storing user
; sessions.  Available types: FileSession, MemcacheSession, MySQLSession.
; Some of the settings below only apply to specific session handlers;
; such settings are named with an obvious prefix.  Non-prefixed settings
; are global to all handlers.
[Session]
type                        = MySQLSession
lifetime                    = 3600 ; Session lasts for 1 hour
rememberMeLifetime          = 1209600 ; If the user wants to us to remember them, set the session for 2 weeks.

;Define Cache lengths in seconds
[Caching]
memcache_host               = localhost
memcache_port               = 11211
memcache_connection_timeout = 1
analytics_references        = 604800 ;Cache for a week since these rarely change
account_profiles            = 86400
bad_words_list              = 604800 ;Cache for a week since these never change
bot_by_user_agent           = 604800 ;Cache for a week since these never change
browse_category_info        = 600    ;Cache for 10 minutes
ebsco_options               = 3600   ;EBSCO suggests caching for at least an hour
econtent_category_map       = 604800 ;Cache for a week since these rarely change
go_deeper_options           = 86400
google_book_id              = 86400
holdings_summary            = 150   ;Cache for 2.5 minutes
ipId_for_ip                 = 3600
ip_addresses                = 604800 ;Cache for a week since these rarely change
indexing_profiles           = 604800 ;Cache for a week since these rarely change
islandora_object_valid      = 604800 ;Cache for a week since these rarely change
item_data                   = 150   ;
item_sip2_data              = 290   ;Make sure sip data will expire bfore the actual item data since it is part of the item.
list_general                = 3600 ;Reload at least hourly
list_highest_rated          = 3600
list_recently_reviewed      = 3600
list_most_popular           = 3600
list_recommendations        = 3600
list_saved_search           = 3600
loan_rules                  = 604800 ;Cache for a week since these rarely change
loan_rule_result            = 86400 ;24 hours
location_for_ip             = 3600
marc_record                 = 150
millennium_cache_interval   = 60 ;Interval to clear millennium cache
novelist_enrichment         = 43200 ;12 hours Enrichment rarely changes
novelist_enrichement        = 43200 ;12 hours Enrichment rarely changes
other_editions              = 1800
overdrive_checked_out       = 3600 
overdrive_holds             = 14400
overdrive_items             = 3600
overdrive_record            = 3600
overdrive_summary           = 60  ;The summary of what a patron has checked out.  Needs to update regularly in case patrons checkout titles in Overdrive or another interface
overdrive_wishlist          = 14400
patron_dump                 = 60
patron_profile              = 60
rating                      = 60
record_description          = 43200 ;12 hours Enrichment rarely changes
purchased_reviews           = 86400 ;reviews from syndetics, content cafe
search_suggestions          = 3600  ;Cache for a long time since spelling suggestions aren't critical and are time consuming
similar_titles              = 1800   
solr_record                 = 150   ;Cache the record for 2.5 minutes, enough time to see performance improvements, but not so much te record is stale after the index updates
solr_ping                   = 5    ;Need to know fairly quickly if Solr is down
syndetics_author_notes      = 86400
syndetics_av_summary        = 86400
syndetics_excerpt           = 86400
syndetics_fiction_profile   = 86400
syndetics_summary           = 86400 ;12 hours Enrichment rarely changes
syndetics_toc               = 86400
syndetics_video_clip        = 86400
contentcafe_sumary          = 86400
contentcafe_excerpt         = 86400
contentcafe_toc             = 86400
contentcafe_author_notes    = 86400
system_list_titles          = 600   ;Make sure the list updates close to the reindex time
translator                  = 3600  ;Can cache for a long time since translation files rarely change
translation_map             = 86400
user                        = 60   ;This needs to be cached for a short period of time so that we can reflect account updates.
wikipedia_article           = 86400 ;No need to constantly fetch from Wikipedia
carlx_branchNumbers         = 86400
carlx_branchCodes           = 86400
sirsi_roa_session_token     = 840 ;session tokens expire in 15 minutes of activity, we will expire cached tokens in 14 minutes
hoopla_api_access_token     = 43200 ; 12 hours

; Please set the ILS that Pika will interact with.
;
; Available drivers: Aleph, Amicus, Evergreen, Horizon (basic database access only),
;       HorizonXMLAPI (more features via API), Innovative, Koha, NewGenLib, Unicorn,
;       Virtua, Voyager (for Voyager 6+), VoyagerRestful (for Voyager 7+ w/ RESTful
;       web services), XCNCIP (for XC NCIP Toolkit v1.x), XCNCIP2 (for XC NCIP Tookit
;       v2.x)
; If you don't have an ILS, two fake drivers are available for testing purposes.
; "Sample" is fast but does very little; "Demo" simulates more functionality of
; a real ILS but may slow down your system by performing extra searches.
;
; Note: Enabling most of the features in this section will only work if you use an
; ILS driver that supports them; not all drivers support holds/renewals.
[Catalog]
offline                  = false
enableLoginWhileOffline  = true
enableOfflineHolds       = true
ils                      = {customize this}
driver                   = {customize this}
;url                      = ;This can be an internal ip address
;linking_url              = ;This should be a publically accessible DNS name
barcodeProperty           = cat_password
;Enables the display of fines within the account menu
showFines                 = true
;Enables payments of fines within Pika
showFinePayments          = false
;api_version               = {customize this for Sierra}
;defaultScope =
showConvertListsFromClassic = false
showLinkToClassicInMaintenanceMode = true
showExploreMoreForFullRecords = false
smsEnabled                = false
selfRegIDPrefix           =
selfRegIDNumberLength     = 7
; Currently only used by the CarlX driver to assign temporary IDs to patrons during Self-Registration
genericUserAgent          = "Mozilla/5.0 (compatible; Windows NT 6.1; Win64; x64)"
catalogUserAgent          = Pika

; See the comments in web/sys/authn/MultiAuthAuthentication.php for full details
; on using multiple authentication methods.
;[MultiAuth]
;method_order   = ILS,LDAP
;filters = "username:trim,password:trim"

[Statistics]
enabled         = true

; This section requires no changes for most installations 
[Index]
url                           = http://localhost:8080/solr
local                         = /data/aspen-discovery/{servername}/solr
default_core                  = grouped_works
ignoreBibSuppression          = false
enableUsableByFilter          = false
enableDetailedAvailability    = true
enableDetailedFormats         = true
enableDetailedEContentSources = true
enableLocalCallNumberSearch   = true
enableFacets                  = true
enableBoosting                = true
enableHighlighting            = false
enableSnippets                = false

; This section needs to be changed to match your installation path
; and database connection information
[Database]
;Since we have multiple databases, need to specify each
database_aspen          = ;{customize this in config.pwd} "mysql://user:password@localhost/databasename"
database_aspen_jdbc     = ;{customize this in config.pwd} "jdbc:mysql://localhost/databasename?user=user&password=password&useUnicode=yes&characterEncoding=UTF-8"
database_aspen_dbname   = vufind
schema_location           = /usr/local/aspen-discovery/sites/default/conf
class_location            = /usr/local/aspen-discovery/code/web/services/MyAccount/lib
require_prefix            =
class_prefix              =
debug                     = 0
persistent                = false
charset                   = utf8

; SIP2 is optional.  This section only needs to exist if the
; Authentication Method is set to SIP2.
;[SIP2]
;host            = {customize this}
;port            =
;alternate_port  =

; External Content is Optional.
; To use multiple, separate with a comma.  Priority will be given by the order listed
; Account id is separated with a colon, if no id is used then no colon is necessary
;
; IMPORTANT: Review content providers' terms of service before turning them on.
;            Terms may change, and not all content sources are appropriate for all
;            applications.  The existence of functionality does not imply
;            suitability for any particular situation.
[Content]
; You can select from Syndetics, LibraryThing,
; Contentcafe or Google Books.
coverimages     = google
; Syndetics:key,google
loadPublisherCovers = false
; You can select from Syndetics, ContentCafe
reviews         = Syndetics:{customize}
; You can select from Syndetics
excerpts        = Syndetics:{customize}
; You can select from NoveList
enrichment      = NoveList
; whether or not Prospector integration should be enabled by default
Prospector      = false
subjectFieldsToShow = 600,610,611,630,650,651,655,690

; You can change the base Syndetics URL used by the content services here.  Most
; users will not need to change this setting.
[Syndetics]
url = "http://syndetics.com"
key =
;These options control what is shown within GoDeeper
showSummary        = false
showAvSummary      = false
showAvProfile      = false
showToc            = true
showExcerpt        = true
showFictionProfile = true
showAuthorNotes    = false
showVideoClip      = false

[Novelist]
apiVersion = 3
;profile = {customize this in config.pwd}
;pwd = {customize this in config.pwd}

; You can change the base Content Cafe URL used by the content services here.  Most
; users will not need to change this setting.  You also need to set your password,
; "pw".  Note that Content Cafe is a subscription service from Baker & Taylor.
[Contentcafe]
url              = "http://contentcafe2.btol.com"
pw               = "xxxxxx"
;These options control what is shown within GoDeeper
showSummary        = false
showToc            = true
showExcerpt        = true
showAuthorNotes    = true

; These settings control what events are logged and where the information is
; stored.
;
; Pika currently supports four logging levels: alert (severe fatal error),
; error (fatal error), notice (non-fatal warning) and debug (informational).
;
; Each logging level can be further broken down into five levels of verbosity.
; You can specify the desired level by adding a dash and a number after the
; level in the configuration string -- for example, alert-2 or error-5.
; The higher the number, the more detailed the logging messages.  If verbosity
; is not specified, it defaults to 1 (least detailed).
;
; Several logging methods are available, and each may be configured to log any
; combination of levels.
;
; You may enable multiple logging mechanisms if you want -- in fact, it is
; recommended, since the failure of one logging mechanism (i.e. database down,
; file system full) may then be reported to another.
;
; If database is uncommented, messages will be logged to the named MySQL table.
; The table can be created with this SQL statement:
; CREATE TABLE log_table ( id INT NOT NULL, logtime TIMESTAMP NOT NULL, 
;     ident CHAR(16) NOT NULL, priority INT NOT NULL, message TEXT,
;     PRIMARY KEY (id) );
;
; If file is uncommented, messages will be logged to the named file.  Be sure
; that Apache has permission to write to the specified file!
;
; If email is uncommented, messages will be sent to the provided email address.
; Be careful with this setting: a flood of errors can easily bog down your mail
; server!
[Logging]
;database       = log_table:alert,error,notice,debug
coverLogging   = false
file           = "/var/log/aspen-discovery/{servername}/messages.log:alert,error,notice,debug"
;email          = alerts@myuniversity.edu:alert-5,error-5

; This section controls which language options are available to your users.
; If you offer more than one option, a control will appear in the user
; interface to allow user selection.  If you only activate one language,
; the control will be hidden.
;
; The name of each setting below (i.e. en, de, fr) is a language code and
; corresponds with one of the translation files found in the web/lang
; directory.  The value of each setting is the on-screen name of the language,
; and will itself be subject to translation through the language files!
;
; The order of the settings is significant -- they will be displayed on screen
; in the same order they are defined here.
;
; Be sure that this section includes the default language set in the [Site] 
; section above.
[Languages]
en = "English"
es = "Spanish"


[MaterialsRequest]
phone                 =
email                 =
url                   =
emailFrom             =
showPhoneField        = true
showAgeField          = true
showBookTypeField     = true
showEbookFormatField  = true
showEaudioFormatField = true
showPlaceHoldField    = true
showIllField          = true
requireAboutField     = false

[MaterialsRequestFormats]
bluray     = true
book       = true
largePrint = true
dvd        = true
cdAudio    = true
cdMusic    = true
ebook      = true
eaudio     = true
playaway   = true
article    = true
cassette   = true
vhs        = true
other      = true

[DPLA]
enabled              = false

[NYT_API]
books_API_key        =

[Hoopla]
enabled              = false
marcPath             = /data/aspen-discovery/hoopla/marc
individualMarcPath   = /data/aspen-discovery/hoopla/marc_recs
marcEncoding         = MARC8
includeAudioBooks    = false
includeNoPAMusic     = false
includePAMusic       = false
includeAllMusic      = false
includeTV            = false
includeMovies        = false
includeEBooks        = false
includeComics        = false
APIBaseURL           = https://hoopla-api-dev.hoopladigital.com
; TODO: set to production API url
HooplaAPIUser        =
HooplaAPIPassword    =

[Islandora]
enabled = false
repositoryUrl =
solrUrl =
fedoraUrl =
objectUrl =
fedoraUsername =
fedoraPassword =

[EDS]
enabled = false

[CAS]
enabled = false

[Reindex]
solrPort             = 8180
marcPath             = /data/aspen-discovery/{servername}/marc
lexileExportPath     = /data/aspen-discovery/lexileTitles.txt
arExportPath         = /data/aspen-discovery/accelerated_reader/RLI-ARDataTAB.txt
;The encoding of the marc file.  Specify MARC8, UTF8, UNIMARC, ISO8859_1, or BESTGUESS
;In general, best results will be had if you export the records as UTF8 and specify UTF8 here. 
marcEncoding         = MARC8
maxWorksToProcess    =

; Update eContent settings
gutenbergItemFile                   = /usr/local/aspen-discovery/default/conf/gutenberg_items.csv

;Indexing settings
ilsIndexingClass           = {Override this}
recordNumberTag            = 907
recordNumberPrefix         = .b
itemTag                    = 989
loadFormatFrom             = bib
collectionSubfield         =
suppressItemlessBibs       = true
useItemBasedCallNumbers    = true
useNumberOfItemsForPopularity = false
callNumberPrestampSubfield = s
callNumberSubfield         = a
callNumberCutterSubfield   = r
callNumberPoststampSubfield =
volumeSubfield             = v
locationSubfield           = d
itemUrlSubfield            = u
barcodeSubfield            = b
statusSubfield             = g
totalCheckoutSubfield      = h
lastYearCheckoutSubfield   = x
ytdCheckoutSubfield        = t
totalRenewalSubfield       = v
iTypeSubfield              = j
dueDateSubfield            = m
dateCreatedSubfield        = k
dateAddedFormat            = yyMMdd
lastCheckinDateSubfield    =
iCode2Subfield             =
useICode2Suppression       = false
eContentSubfield           =
useEContentSubfield        = false

[SiteMap]
filePath       = /usr/local/aspen-discovery/code/web/sitemaps
num_titles_in_most_popular_sitemap = 20000
num_title_in_unique_sitemap = 20000