#Aspen Discovery 20.09.00 release notes
##Account Integration Updates
- Add a new page to display the patron's library card with the option to display the library card as a barcode. The type of barcode can be specified within library settings. Also add the ability to allow patrons to define alternate library cards, i.e. a state library card. The patron can also be prompted to enter a PIN/Password for the alternate card.
  
  ![Library Cards](/release_notes/images/20_09_00_library_cards.png)
- Update display of hours to remove extra "and" from the display when a library is not closed during part of the day.
- Add a new historic code to locations which can be used within the Aspen API calls for backwards compatibility during ILS migrations.

##Administration Updates
- Update Comparison to prefix comparison with section name for additional clarity when comparing two objects.
- Update Comparison to show if colors and fonts are using the default setting when comparing two objects.

  ![Compare Default Settings](/release_notes/images/20_09_00_admin_compare_default.png)
- Clean up which options are displayed within Location settings based on the current ILS as well as which modules are enabled

##Indexing Updates
- Add a new Shelving Location Facet designed to store shelving locations without the current branch location.  This is more general than the detailed location facet.

  ![Shelf Location](/release_notes/images/20_09_00_shelf_location.png)
- Update to remove works during nightly indexing if all items on a record have been suppressed due to configuration changes. 
- When adding values to facets, skip blank entries.

##Koha Integration Updates
- Updates for loading volume information from Koha to correctly identify related items and display volume within copies

  ![Volume Display](/release_notes/images/20_09_00_Volume_display.png)
- When placing holds, display a more informative error message if the patron already has the title on hold.

  ![Placing holds message - already on hold](/release_notes/images/20_09_00_title_already_on_hold.png)
- When placing a hold, show how many hold the patron currently has and show the number of remaining holds when they have 3 or less. 

  ![Placing holds message - number of active holds](/release_notes/images/20_09_00_number_active_holds.png)
  
  ![Placing holds message - number remaining holds](/release_notes/images/20_09_00_number_remaining_holds.png)
  
- When placing holds, if AllowHoldsOnPatronsPossessions is set to don't allow holds on checked out titles, show an appropriate error message.

  ![Placing holds message - title already on hold](/release_notes/images/20_09_00_hold_already_checked_out.png)  
- Add CSS identifiers to messaging settings to allow specific sections of the form to be disabled. Valid values are: 
  - \#messagingTable for the overall table 
  - \#messageType(number)Row for each row within the table i.e. \#messageType1Row
  - \#smsNoticeRow for the Notice that there could be charges for using SMS messaging
  - \#smsNumberRow for the SMS number entry
  - \#smsProviderRow for the SMS provider selection
- When submitting messaging settings, remove any characters that are not digits to match what Koha expects.
- When indexing records set anything with a Not For Loan Value (Item Subfield 7) that does not equal -1 (On Order) or 0 (Not set) to Not Holdable.
- If FailedLoginAttempts is empty, do not show a message that the patron's account is locked
- Update "Advanced Notice" label in Messaging Settings to "Advance notice"
- When extracting a single record from Koha do not process deletes and do not set last update date within the profile. 
- When creating detailed locations for each item, ignore blank sublocations rather than labeling them as "null" 

##Novelist Integration Updates
- Additional error checking when loading Novelist data to detect whether or not the primary_isbn is provided

##Search Result Updates
- Correct display when showing results with varying numbers of linked lists (more than 5 and then less than 5)

##Symphony Integration Updates
- Update Symphony extract to behave similarly to other indexers based on MARC record export delivered to the server.

##Theming Updates
- Add the ability to theme colors for panels when they are open and closed.  If no colors are applied, the closed color will default to grey with black text and the open color will default to the secondary colors.
 
  ![Theming Panels](/release_notes/images/20_09_00_theme_panels.png)
- Update default colors for buttons to be set to the correct color rather than black when a new theme is created and button colors are not set.

##Placard Updates
- Update placard images to be responsive in mobile views

##Other Updates
- Add additional error handling
- Cleanup when loading actions for records 